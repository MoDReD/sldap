{% extends "base.twig" %}

{% block content %}
    <h3>Запрещенные сайты</h3>

    <div>Поиск:<input ng-model="search"><br>

        <table cellspacing='10' id='sites'>
            <thead>
            <tr>
                <td>[]</td>
                <td><a href="#" ng-click="sortType = 'name'; sortReverse = !sortReverse">Название сайта</a></td>
            </tr>
            </thead>

            <tbody>
            <tr ng-repeat="site in sites | orderBy:sortType:sortReverse | filter:search">
                {% verbatim %}
                    <td><input type="checkbox" ng-click="switchSelectedPattern(pattern)" /></td>
                    <td>{{ site.name }}</td>
                {% endverbatim %}
            </tr>
            </tbody>
        </table>

        <script>
            $(function(){
                getPatternsForList();
            });
        </script>
    </div>
{% endblock %}

{% block panel %}
    <button onclick='selectAll()'>Выделить все</button>
    <button onclick='cleanSelectAll()'>Снять выделение</button>
    <button onclick="window.location.pathname='/create_pattern'">Создать</button>
    <button onclick='showEditPattern()'>Изменить</button>
    <button onclick='deletePattern()'>Удалить</button>
{% endblock %}